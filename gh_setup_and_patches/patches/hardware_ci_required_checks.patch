--- /mnt/data/tmp_unpack/.github/workflows/hardware_ci.yml	2026-02-18 20:39:44.000000000 +0000
+++ /mnt/data/gh_setup_pack/patched_workflows/hardware_ci.yml	2026-02-19 00:08:43.535750401 +0000
@@ -4,7 +4,6 @@
   push:
     paths: ["hardware/**", "tools/hw/**", ".github/workflows/hardware_ci.yml"]
   pull_request:
-    paths: ["hardware/**", "tools/hw/**", ".github/workflows/hardware_ci.yml"]
   workflow_dispatch:
 
 jobs:
@@ -12,16 +11,39 @@
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v6
+
+      - name: Detect relevant changes
+        id: changes
+        uses: dorny/paths-filter@v3
+        with:
+          token: ${{ secrets.GITHUB_TOKEN }}
+          filters: |
+            hw:
+              - 'hardware/**'
+              - 'tools/hw/**'
+              - '.github/workflows/hardware_ci.yml'
+
+      - name: No relevant changes (fast pass)
+        if: steps.changes.outputs.hw != 'true'
+        run: |
+          echo "No hardware/tools-hw changes detected. Skipping hardware checks."
+
       - uses: actions/setup-python@v5
+        if: steps.changes.outputs.hw == 'true'
         with:
           python-version: "3.11"
+
       - name: Install deps (schops)
+        if: steps.changes.outputs.hw == 'true'
         run: |
           python -m pip install -U pip
           python -m pip install -r tools/hw/schops/requirements.txt
+
       - name: Unit tests (rules engine)
+        if: steps.changes.outputs.hw == 'true'
         run: |
           python -m unittest discover -s tools/hw/schops/tests -p "test_*.py"
+
       - name: Template note
         run: |
           echo "Template CI: install KiCad on runner or use a KiCad docker image, then run:"
